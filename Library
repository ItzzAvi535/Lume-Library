local Library = {}

-- Splash animation function
local function showSplash()
    local splashGui = Instance.new("ScreenGui")
    splashGui.Name = "LumeSplash"
    splashGui.IgnoreGuiInset = true
    splashGui.ResetOnSpawn = false
    splashGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    splashGui.Parent = game:GetService("CoreGui")

    local splashFrame = Instance.new("Frame")
    splashFrame.Size = UDim2.new(0, 300, 0, 150)
    splashFrame.Position = UDim2.new(0.5, -150, 0.5, -75)
    splashFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    splashFrame.AnchorPoint = Vector2.new(0.5, 0.5)
    splashFrame.Parent = splashGui

    local splashLabel = Instance.new("TextLabel")
    splashLabel.Size = UDim2.new(1, 0, 1, 0)
    splashLabel.BackgroundTransparency = 1
    splashLabel.Text = "Lume Library"
    splashLabel.Font = Enum.Font.GothamBold
    splashLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    splashLabel.TextScaled = true
    splashLabel.Parent = splashFrame

    task.wait(2)
    splashGui:Destroy()
end

function Library:CreateWindow(title)
    showSplash()

    local gui = Instance.new("ScreenGui")
    gui.Name = "Lume"
    gui.Parent = game:GetService("CoreGui")

    local window = Instance.new("Frame")
    window.Name = title
    window.Size = UDim2.new(0, 400, 0, 300)
    window.Position = UDim2.new(0.5, -200, 0.5, -150)
    window.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    window.AnchorPoint = Vector2.new(0.5, 0.5)
    window.Parent = gui

    local contentFrame = Instance.new("Frame")
    contentFrame.Name = "Content"
    contentFrame.Size = UDim2.new(1, -20, 1, -20)
    contentFrame.Position = UDim2.new(0, 10, 0, 10)
    contentFrame.BackgroundTransparency = 1
    contentFrame.Parent = window

    local layout = Instance.new("UIListLayout")
    layout.Padding = UDim.new(0, 6)
    layout.Parent = contentFrame

    -- Return window object with methods
    return {
        Gui = gui,
        Window = window,
        Content = contentFrame,

        AddButton = function(self, text, callback)
            local button = Instance.new("TextButton")
            button.Name = text
            button.Text = text
            button.Size = UDim2.new(1, 0, 0, 30)
            button.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
            button.TextColor3 = Color3.new(1, 1, 1)
            button.Font = Enum.Font.Gotham
            button.TextSize = 14
            button.Parent = self.Content

            button.MouseButton1Click:Connect(function()
                callback()
            end)
        end
    }
end

return Library
